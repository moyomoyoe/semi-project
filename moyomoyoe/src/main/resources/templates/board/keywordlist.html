<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Keyword 게시글 목록</title>
</head>
<body>
    <h3 th:text="'키워드 ' + ${keywordId} + '에 대한 게시글 목록'"></h3>

    <!-- keywordId가 1일 경우 -->
    <div th:if="${keywordId == 1}">
        <h2>영화에 대한 게시글 목록</h2>
        <table>
            <thead>
            <tr>
                <th>제목</th>
                <th>내용</th>
                <th>닉네임</th>
                <th>작성자</th>
                <th>이미지</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="post : ${keywordList}">
                <td th:text="${post.title}"></td>
                <td th:text="${post.context}"></td>
                <td th:text="${post.nickname}"></td>
                <td th:text="${post.imageId}"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- keywordId가 2일 경우 -->
    <div th:if="${keywordId == 2}">
        <h2>독서에 대한 게시글 목록</h2>
        <!-- 독서 관련 게시글 목록 -->
        <table>
            <thead>
            <tr>
                <th>제목</th>
                <th>내용</th>
                <th>닉네임</th>
                <th>작성자</th>
                <th>이미지</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="post : ${keywordList}">
                <td th:text="${post.title}"></td>
                <td th:text="${post.context}"></td>
                <td th:text="${post.nickname}"></td>
                <td th:text="${post.imageId}"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- keywordId가 3일 경우 -->
    <div th:if="${keywordId == 3}">
        <h2>스터디에 대한 게시글 목록</h2>
        <!-- 스터디 관련 게시글 목록 -->
        <table>
            <thead>
            <tr>
                <th>제목</th>
                <th>내용</th>
                <th>닉네임</th>
                <th>작성자</th>
                <th>이미지</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="post : ${keywordList}">
                <td th:text="${post.title}"></td>
                <td th:text="${post.context}"></td>
                <td th:text="${post.nickname}"></td>
                <td th:text="${post.imageId}"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- keywordId가 4일 경우 -->
    <div th:if="${keywordId == 4}">
        <h2>스포츠에 대한 게시글 목록</h2>
        <!-- 스포츠 관련 게시글 목록 -->
        <table>
            <thead>
            <tr>
                <th>제목</th>
                <th>내용</th>
                <th>닉네임</th>
                <th>작성자</th>
                <th>이미지</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="post : ${keywordList}">
                <td th:text="${post.title}"></td>
                <td th:text="${post.context}"></td>
                <td th:text="${post.nickname}"></td>
                <td th:text="${post.imageId}"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- keywordId가 5일 경우 -->
    <div th:if="${keywordId == 5}">
        <h2>여행에 대한 게시글 목록</h2>
        <!-- 여행 관련 게시글 목록 -->
        <table>
            <thead>
            <tr>
                <th>제목</th>
                <th>내용</th>
                <th>닉네임</th>
                <th>작성자</th>
                <th>이미지</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="post : ${keywordList}">
                <td th:text="${post.title}"></td>
                <td th:text="${post.context}"></td>
                <td th:text="${post.nickname}"></td>
                <td th:text="${post.imageId}"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- keywordId가 6일 경우 -->
    <div th:if="${keywordId == 6}">
        <h2>기타에 대한 게시글 목록</h2>
        <!-- 기타 관련 게시글 목록 -->
        <table>
            <thead>
            <tr>
                <th>제목</th>
                <th>내용</th>
                <th>닉네임</th>
                <th>작성자</th>
                <th>이미지</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="post : ${keywordList}">
                <td th:text="${post.title}"></td>
                <td th:text="${post.context}"></td>
                <td th:text="${post.nickname}"></td>
                <td th:text="${post.imageId}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <script>
        // 행(row)을 클릭했을 때 상세 페이지로 이동하는 이벤트 등록
        grid.on('click', (ev) => {
            // 클릭한 행의 데이터가 있는지 확인
            const postId = ev.instance.getValue(ev.rowKey, 'postId');  // 클릭한 행의 postId 가져오기

            console.log(`Selected postId: ${postId}`);

            if (postId) {
                // postId를 이용해 detailpost 페이지로 이동
                window.location.href = `/board/detailpost/${postId}`;
            } else {
                console.log('postId not found');
            }
        });
    </script>
</body>
</html>
